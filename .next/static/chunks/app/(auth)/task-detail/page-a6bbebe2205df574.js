(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9560],{23339:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>X});var s=a(95155),l=a(85256),r=a(97168),i=a(38564),n=a(381),c=a(95882),d=a(66516),o=a(47924),x=a(50505),h=a(93550),m=a(24357),g=a(25273),p=a(81971),u=a(12115),b=a(88482),j=a(89852),f=a(66766),k=a(34964),v=a(74209);a(8420),a(25967);var y=a(82940),N=a.n(y),w=a(99840),S=a(84616),C=a(5598);let A=()=>{let[e,t]=(0,u.useState)([]),[a,l]=(0,u.useState)([]),[i,n]=(0,u.useState)(null),[c,d]=(0,u.useState)(!1),[o,x]=(0,u.useState)({title:"",startDate:"",endDate:""}),h=N()().add(0,"days").valueOf(),m=N()().add(31,"days").valueOf(),g=async e=>{let a=await (0,C.Cc)("project"),s=await a.getProjectTimelines(parseFloat(e));console.log(s);let r=[],i=[];s.ok.forEach((e,t)=>{let a=t+1;r.push({id:a,title:e.title}),i.push({id:a,group:a,start_time:N()(Number(e.startDate)).valueOf(),end_time:N()(Number(e.endDate)).valueOf()})}),t(r),l(i)};(0,u.useEffect)(()=>{let e=localStorage.getItem("project_id");n(e),g(e)},[]);let p=e=>{let{name:t,value:a}=e.target;x({...o,[t]:a})},f=e=>{let[t,a,s]=e.split("-").map(Number);return new Date(t,a-1,s).getTime()},k=async e=>{e.preventDefault();try{o.startDate=f(o.startDate),o.endDate=f(o.endDate);let e=await (0,C.Cc)("project");await e.createTimeline(parseFloat(i),o),alert("Success Create Timeline..."),g(i)}catch(e){console.log(e),alert("Failed Register User...")}};return(0,s.jsxs)("div",{className:"bg-white rounded-lg mt-5 p-2",children:[(0,s.jsxs)(r.$,{variant:"black",onClick:()=>d(!0),className:"mb-2",children:[(0,s.jsx)(S.A,{}),"Add Timeline"]}),(0,s.jsx)(w.A,{open:c,onOpenChange:d,title:"Timeline",content:(0,s.jsxs)(b.Zp,{children:[(0,s.jsxs)(b.aR,{className:"space-y-1.5 rounded-t-lg border-b border-gray-300 bg-gray-100 px-5 py-4 text-base/5 font-semibold text-black",children:[(0,s.jsx)("h3",{children:"Add New Timeline Event"}),(0,s.jsx)("p",{className:"text-sm/tight font-medium text-gray-700",children:"Fill out the details below to create a new event in the project timeline."})]}),(0,s.jsx)(b.Wu,{className:"max-h-[60vh] overflow-auto",children:(0,s.jsxs)("form",{className:"space-y-5 p-3",onSubmit:k,children:[(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)("label",{className:"block font-semibold leading-tight text-black",children:"Title"}),(0,s.jsx)(j.Input,{type:"text",placeholder:"Design Prototype..",name:"title",onChange:p,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)("label",{className:"block font-semibold leading-tight text-black",children:"Date Start"}),(0,s.jsx)(j.Input,{type:"date",name:"startDate",onChange:p,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)("label",{className:"block font-semibold leading-tight text-black",children:"Date End"}),(0,s.jsx)(j.Input,{type:"date",name:"endDate",onChange:p,required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,s.jsx)(r.$,{variant:"outline-general",size:"large",onClick:()=>d(!1),children:"Cancel"}),(0,s.jsx)(r.$,{type:"submit",variant:"black",size:"large",children:"Save"})]})]})})]})}),(0,s.jsx)(v.Ay,{className:"rounded-lg overflow-hidden",groups:e,items:a,defaultTimeStart:h,defaultTimeEnd:m})]})};var D=a(60823),T=a(88145),z=a(6107),I=a(29676),O=a(20690),_=a(5623),F=a(39736),P=a(53999),E=a(69474),R=a(61123),$=a(7328),U=a(7289);let M=[{accessorKey:"hash",header:e=>{let{column:t}=e;return(0,s.jsxs)("button",{type:"button",className:"flex items-center gap-1.5",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:[(0,s.jsxs)("span",{className:"inline-flex items-center -space-x-[5px]",children:[(0,s.jsx)($.A,{className:"size-2.5 shrink-0 text-black ".concat("asc"===t.getIsSorted()&&"text-gray-500")}),(0,s.jsx)(U.A,{className:"size-2.5 shrink-0 text-gray-500 ".concat("asc"===t.getIsSorted()&&"text-black!")})]}),"Signature"]})},cell:e=>{let{row:t}=e;return(0,s.jsx)("div",{children:t.getValue("hash")})}},{accessorKey:"id",header:e=>{let{column:t}=e;return(0,s.jsxs)("button",{type:"button",className:"flex items-center gap-1.5",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:[(0,s.jsxs)("span",{className:"inline-flex items-center -space-x-[5px]",children:[(0,s.jsx)($.A,{className:"size-2.5 shrink-0 text-black ".concat("asc"===t.getIsSorted()&&"text-gray-500")}),(0,s.jsx)(U.A,{className:"size-2.5 shrink-0 text-gray-500 ".concat("asc"===t.getIsSorted()&&"text-black!")})]}),"Block"]})},cell:e=>{let{row:t}=e;return(0,s.jsx)(T.E,{className:"bg-gray-400 text-black",children:t.getValue("id")})}},{accessorKey:"age",header:e=>{let{column:t}=e;return(0,s.jsxs)("button",{type:"button",className:"flex items-center gap-1.5",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:[(0,s.jsxs)("span",{className:"inline-flex items-center -space-x-[5px]",children:[(0,s.jsx)($.A,{className:"size-2.5 shrink-0 text-black ".concat("asc"===t.getIsSorted()&&"text-gray-500")}),(0,s.jsx)(U.A,{className:"size-2.5 shrink-0 text-gray-500 ".concat("asc"===t.getIsSorted()&&"text-black!")})]}),"Age"]})},cell:e=>{let{row:t}=e,a=Date.now(),s=Math.floor((a-1e3*Number(t.getValue("timestamp")))/1e3),l=Math.floor(s/60),r=Math.floor(l/60),i=Math.floor(r/24);return i>0?"".concat(i," day(s) ago"):r>0?"".concat(r," hour(s) ago"):l>0?"".concat(l," minute(s) ago"):"".concat(s," second(s) ago")}},{accessorKey:"timestamp",header:e=>{let{column:t}=e;return(0,s.jsxs)("button",{type:"button",className:"flex items-center gap-1.5",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:[(0,s.jsxs)("span",{className:"inline-flex items-center -space-x-[5px]",children:[(0,s.jsx)($.A,{className:"size-2.5 shrink-0 text-black ".concat("asc"===t.getIsSorted()&&"text-gray-500")}),(0,s.jsx)(U.A,{className:"size-2.5 shrink-0 text-gray-500 ".concat("asc"===t.getIsSorted()&&"text-black!")})]}),"Timestamp"]})},cell:e=>{let{row:t}=e;return new Date(1e3*Number(t.getValue("timestamp"))).toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(","," at")}},{accessorKey:"result",header:e=>{let{column:t}=e;return(0,s.jsx)("button",{type:"button",className:"flex items-center gap-1.5",children:"Result"})},cell:e=>{let{row:t}=e;return(0,s.jsx)(T.E,{variant:"green",className:"capitalize",children:"Success"})}}],W=e=>{let{task:t,tabs:a,aiRef:l}=e,[i,n]=(0,u.useState)([]),[c,d]=(0,u.useState)(),[o,x]=(0,u.useState)(),[h,m]=(0,u.useState)(null),[g,p]=(0,u.useState)(null),[j,k]=(0,u.useState)(null),v=async()=>{let e=await (0,C.Cc)("task"),t=await (0,C.Cc)("project"),a=await (0,C.Cc)("user");return m(e),p(t),k(a),{tActor:e,pActor:t,uActor:a}},y=async e=>{let a=[],s=[],l=[];for(let r in t){let i=Object.keys(t[r].status).toString();t[r].id=Number(t[r].id),t[r].projectId=Number(t[r].projectId),t[r].dueDate=Number(t[r].dueDate),t[r].dueDateText=(0,P.Yq)(t[r].dueDate),t[r].history=[];let n=await e.tActor.getTaskHistory(parseFloat(t[r].id));void 0!==n.ok&&(t[r].history=n.ok.map(e=>({hash:e.hash,id:Number(e.id),timestamp:Number(e.timestamp)}))),console.log("history",t[r].history);let c=await e.uActor.getUserDetail(t[r].assignees[0]);switch(t[r].assignees=[],void 0!==c.ok&&(t[r].assignees=[c.ok]),i){case"todo":a.push(t[r]);break;case"in_progress":s.push(t[r]);break;case"done":l.push(t[r])}}n(a),d(s),x(l)},N=e=>{e.preventDefault()},w=async(e,t)=>{let a=JSON.parse(e.dataTransfer.getData("item")),s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];-1!==e.indexOf("todo")&&(null==i||i.forEach(e=>{if(e.id===a.id)return void n([...i.filter(e=>e.id!==a.id)])})),-1!==e.indexOf("ongoing")&&(null==c||c.forEach(e=>{if(e.id===a.id)return void d([...c.filter(e=>e.id!==a.id)])})),e.indexOf("completed")&&(null==o||o.forEach(e=>{if(e.id===a.id)return void x([...o.filter(e=>e.id!==a.id)])}))},l=parseFloat(a.id);switch(t){case"todo":if(i){let e=await h.updateTaskStatus(l,{todo:null});if(e.err)return alert(e.err);n([...i.filter(e=>e.id!==a.id),a])}else n([a]);s(["ongoing","completed"]);break;case"ongoing":if(c){let e=await h.updateTaskStatus(l,{in_progress:null});if(e.err)return alert(e.err);d([...c.filter(e=>e.id!==a.id),a])}else d([a]);s(["todo","completed"]);break;case"completed":if(o){let e=await h.updateTaskStatus(l,{done:null});if(e.err)return alert(e.err);x([...o.filter(e=>e.id!==a.id),a])}else x([a]);s(["ongoing","todo"])}},[S,A]=(0,u.useState)({title:"",taskTag:[],desc:"",assignees_:""});(0,u.useEffect)(()=>{(async()=>{let e=await v();localStorage.getItem("project_id"),y(e)})()},[t]);let F=(e,t)=>(0,s.jsx)("div",{className:"mb-3",draggable:!0,onDragStart:t=>{t.dataTransfer.setData("item",JSON.stringify(e))},children:(0,s.jsx)(b.Zp,{children:(0,s.jsx)(b.Wu,{children:(0,s.jsxs)("div",{className:"space-y-4 p-3",children:[(0,s.jsxs)("div",{children:[(0,P.Jv)(e.dueDate)&&(0,s.jsx)(T.E,{variant:"danger",size:"small",className:"font-bold text-xs mb-2",children:"Overdue"}),(0,s.jsx)("h4",{className:"font-bold leading-tight text-black dark:text-white",children:e.title})]}),(0,s.jsx)("span",{className:"hidden h-px w-full rounded-full bg-gray-300 sm:block dark:bg-gray-300/50"}),(0,s.jsx)("p",{className:"line-clamp-5 text-xs/5 font-medium overflow-auto",children:e.desc}),(0,s.jsx)("div",{className:"inline-flex items-center gap-1",children:e.assignees.map((e,a)=>{let l=Math.floor(4*Math.random())+1;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.default,{src:"/images/kanban-avatar".concat(l,".svg"),alt:"avatar",width:28,height:28,className:"size-[28px] rounded-full ".concat(a<2?"hidden xl:block":"")},t),(0,s.jsxs)("span",{className:"text-xs",children:[e.firstName," ",e.lastName]})]})})}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("p",{className:"text-xs/tight font-medium ltr:ml-0 ltr:mr-auto rtl:ml-auto rtl:mr-0",children:e.dueDateText}),(0,s.jsx)(r.$,{type:"button",variant:"ghost",className:"pr-0",children:(0,s.jsx)(z.A,{className:"size-2 text-black hover:text-gray dark:text-white dark:hover:text-gray-500"})}),(0,s.jsxs)(E._s.Root,{children:[(0,s.jsx)(E._s.Trigger,{asChild:!0,children:(0,s.jsx)(r.$,{type:"button",variant:"ghost",className:"pr-0",children:(0,s.jsx)(I.A,{className:"size-2 text-black hover:text-gray dark:text-white dark:hover:text-gray-500"})})}),(0,s.jsxs)(E._s.Portal,{children:[(0,s.jsx)(E._s.Overlay,{className:"fixed inset-0 bg-black/40"}),(0,s.jsx)(E._s.Title,{}),(0,s.jsx)(E._s.Content,{className:"bg-gray-100 h-fit w-[calc(100%-260px)] fixed bottom-0 right-0 outline-none",children:(0,s.jsxs)(b.Zp,{className:"grow overflow-x-auto shadow-sm",children:[(0,s.jsxs)(b.aR,{className:"flex items-center justify-between px-5 py-3.5",children:[(0,s.jsx)("h2",{className:"whitespace-nowrap text-base/5 font-semibold text-black",children:"Task History"}),(0,s.jsx)("div",{className:"flex items-center gap-2 sm:gap-4",children:(0,s.jsx)("div",{id:"search-table",hidden:!0})})]}),(0,s.jsx)(b.Wu,{className:"overflow-y-auto max-h-[375px]",children:(0,s.jsx)(R.b,{columns:M,data:e.history,filterField:"id",isRemovePagination:!1})})]})})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{onClick:()=>(e=>{var t;null==(t=l.current)||t.triggerContext(e)})(e.title),className:"flex-grow text-xs p-2 py-2 bg-linear-to-r from-danger/80 to-warning/50 text-white flex items-center justify-center gap-1 rounded-md",children:[(0,s.jsx)(O.A,{size:16}),"Ask for Details"]}),(0,s.jsxs)(D.AM,{children:[(0,s.jsx)(D.Wv,{asChild:!0,children:(0,s.jsx)(r.$,{variant:"outline-general",children:(0,s.jsx)(_.A,{size:16})})}),(0,s.jsx)(D.hl,{className:"w-auto! p-0",align:"start",children:(0,s.jsx)(b.Zp,{children:(0,s.jsxs)(b.Wu,{className:"p-2",children:[(0,s.jsx)(r.$,{type:"button",variant:"ghost",className:"block w-full rounded-lg px-2.5 py-1.5 text-xs/tight font-medium text-black outline-hidden hover:bg-light-theme ltr:text-left rtl:text-right dark:text-gray-500 dark:hover:bg-gray-200/10 dark:hover:text-white",children:"Edit"}),(0,s.jsx)(r.$,{type:"button",variant:"ghost",className:"block w-full rounded-lg px-2.5 py-1.5 text-xs/tight font-medium text-black outline-hidden hover:bg-light-theme ltr:text-left rtl:text-right dark:text-gray-500 dark:hover:bg-gray-200/10 dark:hover:text-white",children:"Delete"})]})})})]})]})]})]})})},t)},t);return(0,s.jsx)("div",{className:"overflow-x-auto pb-2 mt-5",children:(0,s.jsxs)("div",{className:"flex justify-start gap-4 pb-2",id:"scoreboard",children:[(0,s.jsxs)(b.Zp,{className:"h-fit w-[275px] shrink-0 space-y-2 rounded-lg bg-white p-2 dark:bg-white/10 hover:cursor-pointer",children:[(0,s.jsx)(b.aR,{className:"font-semibold text-black",children:(0,s.jsx)("div",{className:"dark:bg-black-dark rounded-lg bg-white shadow-3xl dark:shadow-sm flex items-center justify-between px-4 py-2.5",id:"toDo",children:(0,s.jsxs)("div",{className:"inline-flex items-center gap-2.5",children:[(0,s.jsx)("span",{className:"size-1.5 rounded-full bg-primary"}),(0,s.jsx)("h3",{className:"text-xs/tight font-bold lowercase text-black first-letter:uppercase dark:text-white",children:"to do"})]})})}),(0,s.jsx)(b.Wu,{children:(0,s.jsx)("div",{className:"min-h-[200px]",onDragOver:N,onDrop:e=>{w(e,"todo")},children:i&&i.map((e,t)=>F(e,t))})})]}),(0,s.jsxs)(b.Zp,{className:"h-fit w-[275px] shrink-0 space-y-2 rounded-lg bg-white p-2 dark:bg-white/10",children:[(0,s.jsx)(b.aR,{className:"font-semibold text-black",children:(0,s.jsx)("div",{className:"dark:bg-black-dark rounded-lg bg-white shadow-3xl dark:shadow-sm flex items-center justify-between px-4 py-2.5",id:"toDo",children:(0,s.jsxs)("div",{className:"inline-flex items-center gap-2.5",children:[(0,s.jsx)("span",{className:"size-1.5 rounded-full bg-warning"}),(0,s.jsx)("h3",{className:"text-xs/tight font-bold lowercase text-black first-letter:uppercase dark:text-white",children:"in progress"})]})})}),(0,s.jsx)(b.Wu,{children:(0,s.jsx)("div",{className:"min-h-[200px]",onDragOver:N,onDrop:e=>{w(e,"ongoing")},children:c&&c.map((e,t)=>F(e,t))})})]}),(0,s.jsxs)(b.Zp,{className:"h-fit w-[275px] shrink-0 space-y-2 rounded-lg bg-white p-2 dark:bg-white/10",children:[(0,s.jsx)(b.aR,{className:"font-semibold text-black",children:(0,s.jsx)("div",{className:"dark:bg-black-dark rounded-lg bg-white shadow-3xl dark:shadow-sm flex items-center justify-between px-4 py-2.5",id:"toDo",children:(0,s.jsxs)("div",{className:"inline-flex items-center gap-2.5",children:[(0,s.jsx)("span",{className:"size-1.5 rounded-full bg-success"}),(0,s.jsx)("h3",{className:"text-xs/tight font-bold lowercase text-black first-letter:uppercase dark:text-white",children:"done"})]})})}),(0,s.jsx)(b.Wu,{children:(0,s.jsx)("div",{className:"min-h-[200px]",onDragOver:N,onDrop:e=>{w(e,"completed")},children:o&&o.map((e,t)=>F(e,t))})})]})]})})};var q=a(2286),V=a(36894),Z=a(63008),L=a(99474),B=a(95784);let X=()=>{var e;let[t,a]=(0,u.useState)(!1),[v,y]=(0,u.useState)(null),[N,S]=(0,u.useState)([]),[z,I]=(0,u.useState)([]),[O,_]=(0,u.useState)(null),[E,$]=(0,u.useState)(!1),[U,X]=(0,u.useState)([]),[K,H]=(0,u.useState)({}),[J,G]=(0,u.useState)(!1),[Y,Q]=(0,u.useState)(null),[ee,et]=(0,u.useState)(null),[ea,es]=(0,u.useState)(null),el=async()=>{let e=await (0,C.Cc)("task"),t=await (0,C.Cc)("project"),a=await (0,C.Cc)("user");return Q(e),et(t),es(a),{tActor:e,pActor:t,uActor:a}},er=async(e,t)=>{let{ok:a}=await t.getProjectDetail(parseFloat(e));if(void 0===a)return alert("project not found");_(e),y(a),em(Number(a.reward))},ei=async(e,t)=>{let a=await t.getTaskList(parseFloat(e),[{keyword:[],status:[],tag:[]}]);void 0!==a.ok&&S(a.ok)},[en,ec]=(0,u.useState)([]),ed=async(e,t)=>{let a=await t.pActor.getProjectTeam(parseFloat(e));if(console.log(a),void 0===a.ok)return;let s=await t.uActor.getUsersByIds(a.ok);console.log(s),void 0!==s.ok&&ec(s.ok)},eo=async e=>{I([])};(0,u.useEffect)(()=>{(async()=>{let e=localStorage.getItem("project_id"),t=await el();_(e),ed(e,t),er(e,t.pActor),ei(e,t.tActor),eo(e),ew(e,t.pActor)})()},[]);let ex=async e=>{let t=parseFloat(O);switch(e){case"new":if(!await ee.updateProjectStatus(t,{[({new:"in_progress"})[e]]:null}))return alert("Failed push project");return er(t,ee),alert("Success push project");case"in_progress":if(0==U.length){let e=await Y.getUserOverview(t);if(!e)return alert(e.err);X(e.ok)}return $(!0);default:return}},[eh,em]=(0,u.useState)(0),eg=async e=>{e.preventDefault(),console.log(K)},ep=(0,u.useRef)(null),[eu,eb]=(0,u.useState)(),[ej,ef]=(0,u.useState)({title:"",taskTag:[],desc:"",assignees_:""}),ek=e=>{let{name:t,value:a}=e.target;ef({...ej,[t]:a})},ev=async e=>{e.preventDefault();try{let e=localStorage.getItem("project_id");ej.projectId=parseFloat(e);let t=document.querySelectorAll('[name="tags"]');ej.taskTag={};for(let e=0;e<t.length;e++)if(t[e].checked){ej.tag={[t[e].value]:null};break}ej.dueDate=Math.floor(eu.getTime()/1e3),ej.assignees=[F.p.fromText(ej.assignees_)],console.log(ej,eu),await Y.createTask(ej),alert("Success Create Task"),setTimeout(()=>{window.location.reload()},100)}catch(e){console.error(e),alert("Failed Create Task")}},[ey,eN]=(0,u.useState)([]),ew=async(e,t)=>{let{ok:a}=await t.getProjectHistory(parseFloat(e));void 0!==a&&eN(a)};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(l.A,{heading:"Workspace"}),(0,s.jsxs)("div",{className:"min-h-[calc(100vh-160px)] w-full",children:[(0,s.jsxs)("div",{className:"dark:bg-black-dark rounded-lg bg-white dark:shadow-sm flex flex-col justify-between gap-4 rounded-b-none px-5 py-3.5 shadow-sm md:flex-row md:items-center",children:[(0,s.jsxs)("div",{className:"flex shrink-0 grow flex-col items-start gap-1.5",children:[(0,s.jsxs)("div",{className:"inline-flex items-center gap-2.5",children:[(0,s.jsx)("h2",{className:"text-lg/tight font-semibold text-black dark:text-white",children:null==v?void 0:v.name}),(0,s.jsx)("button",{type:"button",children:(0,s.jsx)(i.A,{className:"size-[18px] transition hover:fill-warning hover:text-warning"})}),(0,s.jsx)("button",{type:"button","aria-haspopup":"dialog","aria-expanded":t,"aria-controls":"settings-dialog","data-state":t?"open":"closed",className:"data-[state=open]:text-black dark:data-[state=open]:text-white",onClick:()=>a(!t),children:(0,s.jsx)(n.A,{className:"size-[18px] transition hover:text-black dark:hover:text-white"})})]}),v?(0,s.jsx)(T.E,{variant:null!=(e=({new:"danger",in_progress:"orange",review:"blue",done:"green"})[Object.keys(v.status)[0]])?e:"default",children:{new:"New",in_progress:"In Progress",review:"Review",done:"Done"}[Object.keys(v.status)[0]]}):null]}),(0,s.jsxs)("div",{className:"inline-flex flex-wrap items-center gap-2.5 md:justify-end",children:[v&&v.teams?(0,s.jsxs)("div",{className:"inline-flex items-center -space-x-2",children:[v.teams.slice(0,4).map((e,t)=>(0,s.jsx)(f.default,{src:"/images/kanban-avatar".concat(t+1,".svg"),alt:"avatar",width:30,height:30,className:"size-[30px] rounded-full ".concat(t<2?"hidden xl:block":""),title:e.userName},e.userName)),v.teams.length>4&&(0,s.jsxs)(r.$,{type:"button",className:"grid h-[30px] min-w-[30px] shrink-0 place-content-center rounded-full border-2 border-white bg-gray-300 px-1 text-[11px]/none font-bold text-black shadow-sm",children:["+",v.teams.length-4]})]}):null,(0,s.jsx)("span",{className:"hidden h-6 w-px rounded-full bg-gray-300 sm:block dark:bg-gray-300/50"}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2.5",children:[(0,s.jsxs)(r.$,{type:"button",className:"inline-flex items-center justify-center gap-1.5 text-xs/4 font-medium px-2.5 py-2 rounded-lg bg-black text-white hover:bg-[#3C3C3D] dark:bg-white dark:text-black dark:hover:text-white dark:hover:bg-black transition",onClick:()=>ex(v?Object.keys(v.status)[0]:""),disabled:0!=N.length&&N.some(e=>"done"!==Object.keys(e.status)[0])&&"new"!==Object.keys(v.status)[0],children:[(0,s.jsx)(c.A,{className:"size-4 shrink-0"}),null==v?"Load Project":(()=>{var e;let t={new:"Project In Progress",in_progress:"Payout",done:"Complete"};return v&&null!=(e=t[Object.keys(v.status)[0]])?e:t.new})()]}),(0,s.jsxs)(r.$,{type:"button",className:"inline-flex items-center justify-center gap-1.5 text-xs/4 font-medium px-2.5 py-2 rounded-lg ring-1 ring-inset ring-gray-300 bg-white text-black hover:bg-gray-200 dark:text-white dark:bg-black-dark dark:ring-gray dark:hover:bg-black transition",children:[(0,s.jsx)(d.A,{className:"size-4 shrink-0"}),"Share"]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(k.tU,{defaultValue:"project-overview",children:[(0,s.jsxs)(k.j7,{className:"flex items-center justify-between overflow-x-auto rounded-b-lg border-t border-gray-300 bg-white shadow-sm dark:border-gray-700/50 dark:bg-white/6",children:[(0,s.jsx)("div",{className:"inline-flex gap-[30px] px-5 text-sm/4 font-semibold sm:px-[30px]",children:(0,s.jsxs)("div",{className:"inline-flex gap-2.5 py-[11px] text-sm/[18px] font-semibold",children:[(0,s.jsxs)(k.Xi,{value:"project-overview",className:"group flex items-center gap-1.5 whitespace-nowrap p-2.5 font-medium transition-all hover:bg-light-theme hover:text-black focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-light-theme data-[state=active]:text-black dark:hover:bg-black dark:hover:text-white dark:data-[state=active]:bg-black dark:data-[state=active]:text-white [&>svg]:size-[18px] [&>svg]:shrink-0 [&[data-state=active]>svg]:text-primary rounded-none border-b-2 border-transparent bg-transparent! px-0 py-4 data-[state=active]:border-primary",children:["Overview",(0,s.jsx)("div",{className:"inline-flex items-center gap-1.5 rounded-lg shrink-0 bg-light-blue text-[10px]/[8px] px-1.5 py-1 font-semibold text-black",children:N.length})]}),(0,s.jsxs)(k.Xi,{value:"project-task",className:"group flex items-center gap-1.5 whitespace-nowrap p-2.5 font-medium transition-all hover:bg-light-theme hover:text-black focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-light-theme data-[state=active]:text-black dark:hover:bg-black dark:hover:text-white dark:data-[state=active]:bg-black dark:data-[state=active]:text-white [&>svg]:size-[18px] [&>svg]:shrink-0 [&[data-state=active]>svg]:text-primary rounded-none border-b-2 border-transparent bg-transparent! px-0 py-4 data-[state=active]:border-primary",children:["Task",(0,s.jsx)("div",{className:"inline-flex items-center gap-1.5 rounded-lg shrink-0 bg-light-purple text-[10px]/[8px] px-1.5 py-1 font-semibold text-black",children:z.length})]}),(0,s.jsx)(k.Xi,{value:"project-timeline",className:"group flex items-center gap-1.5 whitespace-nowrap p-2.5 font-medium transition-all hover:bg-light-theme hover:text-black focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-light-theme data-[state=active]:text-black dark:hover:bg-black dark:hover:text-white dark:data-[state=active]:bg-black dark:data-[state=active]:text-white [&>svg]:size-[18px] [&>svg]:shrink-0 [&[data-state=active]>svg]:text-primary rounded-none border-b-2 border-transparent bg-transparent! px-0 py-4 data-[state=active]:border-primary",children:"Timeline"}),(0,s.jsxs)(k.Xi,{value:"project-history",className:"group flex items-center gap-1.5 whitespace-nowrap p-2.5 font-medium transition-all hover:bg-light-theme hover:text-black focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-light-theme data-[state=active]:text-black dark:hover:bg-black dark:hover:text-white dark:data-[state=active]:bg-black dark:data-[state=active]:text-white [&>svg]:size-[18px] [&>svg]:shrink-0 [&[data-state=active]>svg]:text-primary rounded-none border-b-2 border-transparent bg-transparent! px-0 py-4 data-[state=active]:border-primary",children:["Project History",(0,s.jsx)("div",{className:"inline-flex items-center gap-1.5 rounded-lg shrink-0 bg-primary text-[10px]/[8px] px-1.5 py-1 font-semibold text-black",children:ey.length})]})]})}),(0,s.jsxs)("div",{className:"inline-flex items-center gap-2.5 ltr:pr-5 rtl:pl-5",children:[(0,s.jsxs)("div",{className:"relative min-w-[204px]",children:[(0,s.jsx)(j.Input,{type:"text",className:"w-full rounded-lg py-2 pl-8 pr-2 text-xs/[10px] font-medium text-black shadow-sm outline-hidden ring-1 ring-gray-300 placeholder:font-medium placeholder:text-black focus:ring-black dark:bg-white/10 dark:text-white dark:ring-gray-300/10 dark:placeholder:text-white dark:focus:ring-white",placeholder:"Search Task"}),(0,s.jsx)(o.A,{className:"absolute left-3 top-2 h-4 w-4 shrink-0"})]}),(0,s.jsxs)(r.$,{type:"button",className:"inline-flex items-center justify-center gap-1.5 text-xs/4 px-2.5 py-2 rounded-lg ring-1 ring-inset ring-gray-300 bg-white shadow-sm text-black hover:bg-gray-200 dark:text-white dark:bg-black-dark dark:ring-gray dark:hover:bg-black",children:[(0,s.jsx)(x.A,{className:"lucide lucide-list-filter size-4"}),"Filter"]}),(0,s.jsx)("span",{className:"h-6 w-px rounded-full bg-gray-300 dark:bg-gray-300/50"}),(0,s.jsxs)(r.$,{type:"button",className:"inline-flex items-center justify-center gap-1.5 text-xs/4 px-2.5 py-2 rounded-lg ring-1 ring-inset ring-gray-300 bg-white shadow-sm text-black hover:bg-gray-200 dark:text-white dark:bg-black-dark dark:ring-gray dark:hover:bg-black",onClick:()=>void G(!0),children:[(0,s.jsx)(c.A,{className:"size-4 shrink-0"}),"Add Task"]})]})]}),(0,s.jsx)(k.av,{value:"project-overview",className:"font-medium text-black",children:(0,s.jsx)(W,{task:N,tabs:{id:O,tab:"overview"},aiRef:ep})}),(0,s.jsx)(k.av,{value:"project-task",className:"font-medium text-black",children:(0,s.jsx)(W,{task:z,tabs:{id:O,tab:"task"},aiRef:ep})}),(0,s.jsx)(k.av,{value:"project-timeline",className:"space-y-4 font-medium text-black dark:text-white",children:(0,s.jsx)(A,{})}),(0,s.jsx)(k.av,{value:"project-history",className:"font-medium text-black dark:text-white mt-5",children:(0,s.jsx)(b.Zp,{className:"grow overflow-x-auto shadow-sm",children:(0,s.jsxs)(b.Wu,{children:[(0,s.jsx)("div",{className:"flex items-center gap-2 sm:gap-4",children:(0,s.jsx)("div",{id:"search-table",hidden:!0})}),(0,s.jsx)(R.b,{columns:M,data:ey,filterField:"id",isRemovePagination:!1})]})})})]}),(0,s.jsx)(q.A,{ref:ep})]}),(0,s.jsx)(w.A,{open:J,onOpenChange:G,title:"Add Task",content:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"h-px w-full rounded-full bg-gray-300 sm:block dark:bg-gray-300/50"}),(0,s.jsx)("div",{className:"pt-4",children:(0,s.jsxs)("form",{className:"px-[3px]",onSubmit:ev,children:[(0,s.jsxs)("div",{className:"space-y-5 max-h-[450px] overflow-y-scroll ps-[2px] pr-[10px]",children:[(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)("label",{className:"block font-semibold leading-tight text-black",children:"Task Name"}),(0,s.jsx)(j.Input,{type:"text",placeholder:"e.g., Implement login page",name:"title",onChange:ek,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)("label",{className:"block font-semibold leading-tight text-black",children:"Task Desc"}),(0,s.jsx)(L.T,{placeholder:"Describe the task in detail, including requirements or notes...",name:"desc",onChange:ek,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)("label",{className:"block font-semibold leading-tight text-black",children:"Task Assigne"}),(0,s.jsxs)(B.Select,{onValueChange:e=>{ef({...ej,assignees_:e})},children:[(0,s.jsx)(B.SelectTrigger,{className:"py-2 text-black shadow-sm ring-1 ring-gray-300",title:"Task Assigne",children:(0,s.jsx)(B.SelectValue,{placeholder:"Task Assigne"})}),(0,s.jsx)(B.SelectContent,{children:(0,s.jsx)("div",{className:"space-y-1.5",children:en.map((e,t)=>{let a=Object.keys(e.role||{})[0]||"";return(0,s.jsxs)(B.SelectItem,{value:e.id,textValue:"".concat(e.firstName," ").concat(e.lastName),children:[(0,s.jsx)(T.E,{variant:{admin:"red",developer:"purple",maintainer:"grey"}[a]||"secondary",children:a.toUpperCase()}),(0,s.jsx)("span",{className:"ms-1",children:"".concat(e.firstName," ").concat(e.lastName)})]},t)})})})]})]}),(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)("label",{className:"block font-semibold leading-tight text-black",children:"Task Deadline"}),(0,s.jsxs)(D.AM,{children:[(0,s.jsx)(D.Wv,{className:"w-full",children:(0,s.jsxs)("div",{className:"text-sm/[8px] relative w-full shadow-3xl placeholder:text-gray placeholder:font-medium text-black font-medium px-3.5 py-4 rounded-lg disabled:pointer-events-none disabled:opacity-30 focus:ring-1 outline-hidden focus:ring-black text-start",children:[eu?(0,Z.GP)(eu,"MMM dd, yyyy"):(0,s.jsx)("span",{children:(0,P.qF)()})," "]})}),(0,s.jsx)(D.hl,{className:"w-auto! p-0",children:(0,s.jsx)(V.V,{mode:"single",selected:eu,onSelect:eb})})]})]}),(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsx)("label",{className:"block font-semibold leading-tight text-black",children:"Tag"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"radio",name:"tags",value:"frontend",className:"h-4 w-4 text-blue-600 border-gray-300 rounded",onChange:ek}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"Frontend Developer"})]}),(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"radio",name:"tags",value:"backend",className:"h-4 w-4 text-blue-600 border-gray-300 rounded",onChange:ek}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"Backend Developer"})]}),(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"radio",name:"tags",value:"ui",className:"h-4 w-4 text-blue-600 border-gray-300 rounded",onChange:ek}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"UI/UX Design"})]}),(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"radio",name:"tags",value:"bussines_analist",className:"h-4 w-4 text-blue-600 border-gray-300 rounded",onChange:ek}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"Bussiness Analyst"})]})]})]})]}),(0,s.jsx)("span",{className:"h-px w-full rounded-full bg-gray-300 sm:block dark:bg-gray-300/50 mb-4 mt-4"}),(0,s.jsx)(r.$,{type:"submit",variant:"black",size:"large",className:"w-full",children:"Add Task"})]})})]})}),(0,s.jsx)(w.A,{open:E,onOpenChange:$,title:"Payout Team",content:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)(h.A,{size:18}),(0,s.jsx)("span",{className:"text-xs font-bold",children:(0,P.LS)(eh)})]}),(0,s.jsx)("span",{className:"hidden h-px w-full rounded-full bg-gray-300 sm:block dark:bg-gray-300/50 my-3"}),(0,s.jsxs)("form",{className:"space-y-5",onSubmit:eg,children:[U.map((e,t)=>(console.log(v),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"font-bold flex justify-between gap-2",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("div",{children:"User #".concat(t+1,":")}),(0,s.jsxs)("div",{className:"flex flex-1 items-center text-xs gap-1",children:[(0,s.jsx)(m.A,{size:16}),"u73il-qowyh-..."]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("div",{className:"flex flex-1 items-center text-xs gap-1",children:[(0,s.jsx)(g.A,{size:16}),"12"]}),(0,s.jsxs)("div",{className:"flex flex-1 items-center text-xs gap-1",children:[(0,s.jsx)(p.A,{size:16}),"2"]})]})]}),(0,s.jsx)("div",{className:"space-y-2.5 mt-2.5",children:(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)(j.Input,{autoFocus:!0,type:"text",inputMode:"decimal",placeholder:"Total",name:"reward",className:"w-full pr-12",onChange:t=>((e,t)=>{(0,P.GJ)(Number(t))>eh&&alert("Payout exceeds remaining project reward"),H(a=>({...a,[e]:Number(t)}))})(e.userId.toString(),t.target.value)}),(0,s.jsx)("span",{className:"absolute inset-y-0 right-3 flex items-center text-black text-sm",children:"ICP"})]})})]}))),(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,s.jsx)(r.$,{variant:"outline-general",size:"large",onClick:()=>$(!1),children:"Cancel"}),(0,s.jsx)(r.$,{type:"submit",variant:"black",size:"large",children:"Save"})]})]})]})})]})]})}},25967:()=>{},27307:(e,t,a)=>{Promise.resolve().then(a.bind(a,23339))},34964:(e,t,a)=>{"use strict";a.d(t,{Xi:()=>d,av:()=>o,j7:()=>c,tU:()=>n});var s=a(95155),l=a(12115),r=a(60704),i=a(53999);let n=r.bL,c=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.B8,{ref:t,className:(0,i.cn)("",a),...l})});c.displayName=r.B8.displayName;let d=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.l9,{ref:t,className:(0,i.cn)("group flex items-center gap-1.5 whitespace-nowrap rounded-lg p-2.5 font-medium transition-all focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50 hover:bg-light-theme hover:text-black data-[state=active]:bg-light-theme data-[state=active]:text-black [&>svg]:size-[18px] [&>svg]:shrink-0 [&[data-state=active]>svg]:text-primary",a),...l})});d.displayName=r.l9.displayName;let o=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.UC,{ref:t,className:(0,i.cn)("focus-visible:ring-ring focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-offset-2",a),...l})});o.displayName=r.UC.displayName},60823:(e,t,a)=>{"use strict";a.d(t,{AM:()=>n,Wv:()=>c,hl:()=>d});var s=a(95155),l=a(12115),r=a(20547),i=a(53999);let n=r.bL,c=r.l9,d=l.forwardRef((e,t)=>{let{className:a,align:l="center",sideOffset:n=6,...c}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsx)("div",{className:"relative z-100",children:(0,s.jsx)(r.UC,{ref:t,align:l,sideOffset:n,className:(0,i.cn)("rounded-md shadow-xl p-4 bg-white",a),...c})})})});d.displayName=r.UC.displayName}},e=>{e.O(0,[714,7e3,586,9352,3063,7012,536,8034,8558,395,339,4838,1127,5197,7812,1319,7036,8441,5964,7358],()=>e(e.s=27307)),_N_E=e.O()}]);