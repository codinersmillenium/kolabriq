"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{25624:(e,a,t)=>{t.d(a,{A:()=>m,AuthProvider:()=>o});var s=t(95155),i=t(11518),l=t.n(i),r=t(5598),n=t(35695),d=t(12115);let c=(0,d.createContext)(null),o=e=>{let{children:a}=e,[t,i]=(0,d.useState)(!1),[l,o]=(0,d.useState)({}),[m,x]=(0,d.useState)(!0),g=(0,n.useRouter)(),f=async()=>{await (0,r.uw)();let e=await r.yK.isAuthenticated(),a=await (0,r.YD)();if(e)if(a){let e=await (0,r.Cc)(),{ok:a}=await (0,r.ZG)(e,"getUserDetail",r.D_.getPrincipal());o(a)}else g.replace("/register");else g.replace("/login");i(e),x(!1)};return((0,d.useEffect)(()=>{f()},[]),m)?u():(0,s.jsx)(c.Provider,{value:{isAuthenticated:t,logout:()=>{(0,r.CI)(),i(!1),window.location.href="/login"},user:l},children:a})},m=()=>{let e=(0,d.useContext)(c);if(!e)throw Error("useAuth must be used within <AuthProvider>");return e},u=()=>(0,s.jsxs)("div",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)"},className:"jsx-47aaccde8c52d89e flex items-center justify-center h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[(0,s.jsx)("div",{className:"jsx-47aaccde8c52d89e text-center",children:(0,s.jsxs)("div",{className:"jsx-47aaccde8c52d89e relative mb-8",children:[(0,s.jsx)("div",{style:{borderTopColor:"#11B4B1",borderRightColor:"#2E3F46"},className:"jsx-47aaccde8c52d89e absolute inset-0 w-32 h-32 mx-auto border-4 border-transparent rounded-lg animate-spin"}),(0,s.jsx)("div",{style:{background:"linear-gradient(45deg, #11B4B1, #2E3F46)"},className:"jsx-47aaccde8c52d89e absolute inset-2 w-28 h-28 mx-auto rounded-lg opacity-20 animate-pulse"}),(0,s.jsx)("div",{style:{boxShadow:"0 25px 50px -12px rgba(17, 180, 177, 0.25)"},className:"jsx-47aaccde8c52d89e relative w-32 h-32 mx-auto bg-white rounded-lg shadow-2xl flex items-center justify-center animate-bounce",children:(0,s.jsx)("img",{src:"/images/logos.png",alt:"Kolabriq Logo",className:"jsx-47aaccde8c52d89e w-20 h-20 rounded-md animate-pulse"})}),(0,s.jsx)("div",{style:{backgroundColor:"#11B4B1"},className:"jsx-47aaccde8c52d89e absolute top-0 left-8 w-2 h-2 rounded-full animate-ping"}),(0,s.jsx)("div",{style:{backgroundColor:"#2E3F46"},className:"jsx-47aaccde8c52d89e absolute top-8 right-4 w-1 h-1 rounded-full animate-ping animation-delay-100"}),(0,s.jsx)("div",{style:{backgroundColor:"#11B4B1"},className:"jsx-47aaccde8c52d89e absolute bottom-4 left-4 w-1.5 h-1.5 rounded-full animate-ping animation-delay-200"}),(0,s.jsx)("div",{style:{backgroundColor:"#2E3F46"},className:"jsx-47aaccde8c52d89e absolute bottom-0 right-8 w-2 h-2 rounded-full animate-ping animation-delay-300"})]})}),(0,s.jsx)(l(),{id:"47aaccde8c52d89e",children:"@keyframes loading-progress{0%{width:0%}50%{width:70%}100%{width:100%}}@keyframes fade-in-out{0%,100%{opacity:.5}50%{opacity:1}}.animate-loading-progress.jsx-47aaccde8c52d89e{animation:loading-progress 2s ease-in-out infinite}.animate-fade-in-out.jsx-47aaccde8c52d89e{animation:fade-in-out 2s ease-in-out infinite}.animation-delay-100.jsx-47aaccde8c52d89e{animation-delay:.1s}.animation-delay-200.jsx-47aaccde8c52d89e{animation-delay:.2s}.animation-delay-300.jsx-47aaccde8c52d89e{animation-delay:.3s}"})]})},87392:(e,a,t)=>{t.d(a,{A:()=>A});var s=t(95155),i=t(5598),l=t(19946);let r=(0,l.A)("id-card",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]),n=(0,l.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var d=t(93550);let c=(0,l.A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var o=t(25273),m=t(29676),u=t(66766),x=t(6874),g=t.n(x),f=t(12115),h=t(97168),p=t(89852),j=(t(39736),t(88145)),y=t(35695);let b={new:"blue",in_progress:"orange",review:"grey",done:"green"},w={new:"New",in_progress:"In Progress",review:"Review",done:"Done"},v={free:"bg-gray text-white",rewarded:"bg-light-orange"},k={free:"Free",rewarded:"Rewarded"};var N=t(53999),C=t(99840);function A(e){let{filter:a,page:t,dialogProjectOpen:l,dialogTitle:x}=e,A=(0,y.useRouter)(),[E,S]=(0,f.useState)([]),[B,M]=(0,f.useState)({name:"",status:!1}),z=async()=>{var e={status:a.status?[{[a.status]:null}]:[],projectType:a.type?[{[a.type]:null}]:[],tags:[],keyword:[]};let s=await (0,i.Cc)("user"),{code:l}=await (0,i.ZG)(s,"getTeamRefCode"),r=await (0,i.Cc)("project"),{ok:n}=await (0,i.ZG)(r,"getOwnedProjectList",l,e);if("admin"===t.role)for(let e in n){let a=new Uint8Array(n[e].thumbnail),t=new Blob([a],{type:P(a)});for(let a in n[e].thumbnailUrl=URL.createObjectURL(t),n[e].teams){let t=n[e].teams[a];if("maintainer"===Object.keys(t.role).toString()){M({name:t.firstName+" "+t.lastName,status:!0});break}}}S(n)},P=e=>137===e[0]&&80===e[1]?"image/png":255===e[0]&&216===e[1]?"image/jpeg":82===e[0]&&73===e[1]&&87===e[8]&&69===e[9]?"image/webp":"application/octet-stream",R=e=>{localStorage.setItem("project_id",e),setTimeout(()=>{A.push("/task-detail")},100)},[U,_]=(0,f.useState)(!1);return(0,f.useEffect)(()=>{z()},[a,t.role]),(0,s.jsx)("div",{className:"mx-auto grid w-full gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 mt-4",children:E.map((e,a)=>{var t;let i=Object.keys(e.status)[0],f=Object.keys(e.projectType)[0];return(0,s.jsx)("div",{className:"rounded-[1vw] bg-[#232324] shadow-3xl dark:shadow-sm",children:(0,s.jsxs)("div",{className:"space-y-4 p-3",children:[(0,s.jsx)(g(),{href:"/task-detail/1",className:"relative w-full h-[200px] mt-0 block rounded-xl overflow-hidden p-1.5 ring-2 dark:bg-black-dark dark:ring-gray-300/10\n                  ".concat(e.thumbnailUrl?"ring-gray-300":"bg-gray-200 ring-gray-300"),onClick:()=>R(e.id),children:e.thumbnailUrl?(0,s.jsx)(u.default,{alt:"blog-img",fill:!0,src:e.thumbnailUrl,className:"mx-auto",style:{objectFit:"cover"}}):null}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(j.E,{variant:null!=(t=b[i])?t:"default",children:w[i]}),(0,s.jsx)("div",{className:"inline-flex items-center gap-1.5 rounded-lg px-2 py-2 text-xs/[10px] shrink-0 font-medium whitespace-nowrap transition text-black ".concat(v[f]),children:k[f]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("button",{onClick:()=>_(!0),children:(0,s.jsx)(r,{size:23,color:"#ffffff"})}),(0,s.jsx)("button",{onClick:()=>{x("Edit Project: "+e.name),l(!0)},children:(0,s.jsx)(n,{size:18,color:"#ffffff"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)(d.A,{size:18,color:"#ffffff"}),(0,s.jsx)("span",{className:"text-white text-xs",children:e.reward?(0,N.LS)(e.reward):0})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)(g(),{href:"/task-detail",className:"text-sm/tight font-semibold text-white duration-300 hover:underline inline-flex",onClick:()=>R(e.id),children:"Lorem ipsum dolor sit amet consectetur adipisicing elit."}),(0,s.jsx)("p",{className:"line-clamp-3 text-xs/normal font-medium text-white",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quis optio necessitatibus assumenda, voluptatum sit in dicta? Illum velit officiis numquam perferendis maxime, non in labore."})]}),(0,s.jsx)("span",{className:"hidden h-px w-full rounded-full bg-gray-300 sm:block dark:bg-gray-300/50"}),(0,s.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("p",{className:"flex items-center font-semibold text-white gap-1",children:[(0,s.jsx)(c,{size:18}),(0,s.jsx)("span",{children:"0"})]}),(0,s.jsxs)("p",{className:"flex items-center font-semibold text-white gap-1",children:[(0,s.jsx)(o.A,{size:18}),(0,s.jsx)("span",{children:"0"})]})]}),(0,s.jsx)(m.A,{size:18,color:"#ffffff"})]}),(0,s.jsx)(C.A,{open:U,onOpenChange:_,title:"Project Manager",content:(e.id,void(B.status?B.name:(p.Input,h.$)))})]})},a)})})}}}]);