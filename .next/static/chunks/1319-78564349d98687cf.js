"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1319],{2286:(e,t,a)=>{a.d(t,{A:()=>h});var s=a(95155);a(35558);var r=a(5598),n=a(12115),l=a(69474),i=a(90792),o=a(18473),d=a(13052),c=a(74311),u=a(91981),p=a(54416),x=a(50429),m=a(66766);let h=(0,n.forwardRef)((e,t)=>{let[a,h]=(0,n.useState)(),[g,f]=(0,n.useState)(!1),[y,b]=(0,n.useState)([{system:{content:"\nHello! I am **Briqi**, your intelligent assistant designed to help you manage projects and digital assets efficiently.\n\n## Digital Asset Management\n- **Retrieve ICP Address** – Get your ICP wallet address.\n- **Check ICP Balance** – View your current ICP balance.\n- **Transfer ICP** – Send ICP securely to another address.\n\n## Project Management\n- **Task Analyzer** – Analyze tasks and provide actionable insights.\n- **Project Details** – Access detailed information about your projects.\n- **Create Project** – Quickly set up new projects.\n- **Generate Project Tasks** – Automatically create tasks for your projects.\n\n## Team Operations\n- **Task Breakdown** – Break down tasks into actionable steps.\n- **Task Overview** – Get a summary of task progress.\n- **Team Payouts** – Manage team payouts efficiently.\n\n---\n\n✨ Just type what you need in plain English, and I’ll handle it for you.\n    "}}]),[w,j]=(0,n.useState)(""),[v,N]=(0,n.useState)(!1),[k,C]=(0,n.useState)(0),z=(0,n.useRef)(null);(0,n.useImperativeHandle)(t,()=>({triggerContext:e=>{h(e)}}));let[_,I]=(0,n.useState)(!1),P="\nSorry, there was an unexpected error while processing your request. Please try again.\n\nType **help** if you want to see what I can do \uD83D\uDCA1\n    ",S=async e=>{console.log(e);try{let t=await fetch("http://localhost:8001/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,sender:(0,r.b0)().toString()})}),a=await t.json();h(""),g||C(k+1),b(e=>{let t=[...e];return t.pop(),t.push({system:{content:a.response}}),t})}catch(e){throw console.error(e),b(e=>{let t=[...e];return t.pop(),t.push({system:{content:P}}),t}),e}finally{N(!1)}},T=async e=>{if(e.preventDefault(),w.trim()&&!v)try{let e=(e=>{let t={user:{content:e,task:null!=a?a:""}},s={system:{content:"Thinking.."}};return b(e=>[...e,t,s]),t})(w);if(q(w))return;let t=(e=await D(w)).user?e.user.content:"",s=a?"Please describe the task '".concat(a,"',\n").concat(t):t;j(""),N(!0),await S(s),setTimeout(()=>{(()=>{var e;null==(e=z.current)||e.scrollIntoView({behavior:"smooth",block:"end"})})()},100)}catch(e){b(e=>{let t=[...e];return t.pop(),t.push({system:{content:P}}),t})}},[A,R]=(0,n.useState)({message:"",amount:0}),q=e=>{let t=["transfer","payout","generate project"].find(t=>e.toLowerCase().includes(t));if(!t)return!1;if("generate project"===t){let t=e.match(/(\d+)\s*ICP/i);if(!t)return!1;R({message:e,amount:Number(t[1])})}else{let t=e.match(/=\s*([\d.]+)/g);if(!t)return!1;R({message:e,amount:t.map(e=>parseFloat(e.replace("=","").trim())).reduce((e,t)=>e+t,0)})}let a="\n            We have prepared the following ICP transfers for you:\n\n\n            \uD83D\uDCB0 **Total Transfer: ".concat(A.amount," ICP**\n\n\n            ⚠️ Once confirmed, the transfer cannot be reversed.\n\n            - Network: Internet Computer (ICP)\n            - Estimated confirmations: ~3 blocks (~20–30 seconds)\n            - Network fee: 0 ICP per transaction (deducted automatically)\n\n\n            To proceed, type 'yes'. To cancel, type anything else.\n        ").trim();return b(e=>{let t=[...e];return t.pop(),t.push({system:{content:a}}),t}),!0},D=async e=>{if(e.toLowerCase().includes("yes")&&A.amount){let e=await (0,r.Cc)("icp_ledger");try{return await (0,r.ZG)(e,"icrc2_approve",{from_subaccount:[],spender:{owner:"bw4dl-smaaa-aaaaa-qaacq-cai",subaccount:[]},amount:A.amount,expected_allowance:[],expires_at:[],fee:[],memo:[],created_at_time:[]}),{user:{content:A.message,task:""}}}catch(e){throw R({message:"",amount:0}),e}}return R({message:"",amount:0}),{user:{content:e,task:""}}};return(0,s.jsxs)(l._s.Root,{direction:"right",modal:!1,open:g,children:[(0,s.jsxs)(l._s.Trigger,{className:"fixed bottom-5 right-5 flex h-12 w-12 items-center justify-center rounded-full shadow-sm bg-linear-to-r from-primary/20 to-success/40 text-white",onClick:()=>{C(0),f(!0)},children:[k>0&&(0,s.jsx)("div",{className:"absolute -top-0.5 -left-1 bg-danger text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full shadow",children:k>99?"99+":k}),(0,s.jsx)(o.A,{size:28,strokeWidth:2.5})]}),(0,s.jsx)(l._s.Portal,{children:(0,s.jsxs)(l._s.Content,{"aria-describedby":"dialog",className:(()=>{let e="right-3 bottom-3 fixed z-20 outline-none rounded-xl overflow-hidden !transition-all duration-500 ease-in-out bg-white shadow-lg border border-gray-300";return _?e+=" w-[calc(100%-288px)] h-[calc(100%-88px)]":e+=" w-[25%] h-3/4",e})(),style:{"--initial-transform":"calc(100% + 8px)"},children:[(0,s.jsxs)(l._s.Title,{className:"w-full h-[150px] p-3 relative",children:[(0,s.jsx)(l._s.Close,{className:"h-6 w-6 rounded-lg bg-white absolute right-4 flex items-center justify-center z-10",onClick:()=>f(!1),children:(0,s.jsx)(d.A,{size:12})}),(0,s.jsx)("div",{className:"bg-white absolute top-0 left-0 -z-1 h-full w-full",children:(0,s.jsx)(m.default,{src:"/images/home-bg.png",fill:!0,alt:"home-bg",className:"object-cover",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",priority:!0})}),(0,s.jsx)("div",{className:"flex justify-center gap-2 mb-4 mt-1.5",children:(0,s.jsx)("button",{type:"button",className:"bg-gray-200 shadow flex items-center gap-1 px-5 h-6 text-[10px] rounded-lg",children:"Chat"})}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"rounded-full w-8 h-8 bg-linear-to-b from-primary/20 to-success/40 flex items-center justify-center",children:(0,s.jsx)(o.A,{color:"#fff",size:20})}),(0,s.jsx)("div",{className:"font-bold text-gray-700",children:"Briqi from Kolabriq"})]}),(0,s.jsx)("button",{className:"h-6 w-6 rounded-lg bg-white flex items-center justify-center z-10 hover:bg-gray-100 transition-colors",onClick:()=>I(!_),title:_?"Exit Fullscreen":"Enter Fullscreen",children:_?(0,s.jsxs)("button",{type:"button",className:"bg-gray-200 shadow flex items-center gap-1 px-5 h-6 text-[10px] rounded-lg",children:[(0,s.jsx)(c.A,{size:10}),"Minimize"]}):(0,s.jsxs)("button",{type:"button",className:"bg-gray-200 shadow flex items-center gap-1 px-5 h-6 text-[10px] rounded-lg",children:[(0,s.jsx)(u.A,{size:10}),"Maximize"]})})]})]}),(0,s.jsxs)("div",{className:"bg-white h-[calc(100%-150px)] w-full grow py-5 flex flex-col rounded-[16px]",children:[(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-3 px-4 pr-1 custom-scroll pb-4",children:[y.map((e,t)=>{var a,r,n,l,o,d;let c="user"in e,u=c?null!=(o=null==(a=e.user)?void 0:a.content)?o:"":null!=(d=null==(r=e.system)?void 0:r.content)?d:"";return(0,s.jsxs)("div",{className:"flex flex-col gap-1 px-4  ".concat(c?"items-end justify-end":"items-start justify-start"),children:[(0,s.jsx)("span",{className:"text-xs text-gray-700 pr-2",children:c?"You":"Briqi"}),(null==(n=e.user)?void 0:n.task)&&(0,s.jsx)("div",{className:"flex items-center justify-between text-xs text-gray-700 bg-gray-100 px-3 py-2 rounded-lg truncate drop-shadow-sm mb-1",children:(0,s.jsxs)("span",{className:"truncate",children:[(0,s.jsx)("span",{className:"font-medium text-gray-800",children:"Task: "}),null==(l=e.user)?void 0:l.task]})}),(0,s.jsx)("div",{className:"text-[13px] py-2 px-4 rounded-lg drop-shadow-md max-w-[80%] whitespace-pre-line ".concat(c?"bg-linear-to-b from-primary/5 to-success-light/20 text-gray":"bg-gray-100 text-gray-700"),children:(0,s.jsx)(i.oz,{children:u})})]},t)}),(0,s.jsx)("div",{ref:z})]}),a&&(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-700 bg-gray-100 px-3 py-2 mx-4 rounded-lg truncate border border-gray-300",children:[(0,s.jsxs)("span",{className:"truncate",children:[(0,s.jsx)("span",{className:"font-medium text-gray-800",children:"Task: "}),a]}),(0,s.jsx)("button",{onClick:()=>h(""),className:"ml-2 text-gray-500 hover:text-red-500",children:(0,s.jsx)(p.A,{size:12,color:"#6b7280"})})]}),(0,s.jsxs)("form",{className:"mt-2 flex items-center gap-2 mx-4",onSubmit:T,children:[(0,s.jsx)("input",{type:"text",placeholder:"Help me about this task briqi..",className:"flex-1 px-3 h-10 rounded-lg text-xs border border-gray-300 focus:outline-none",value:w,onChange:e=>j(e.target.value),disabled:v}),(0,s.jsx)("button",{type:"submit",className:"px-3 h-10 bg-linear-to-b from-danger/20 to-success-light/40 rounded-lg text-sm hover:bg-blue-600 transition",disabled:v,children:(0,s.jsx)(x.A,{size:16})})]})]})]})})]})})},85256:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(95155),r=a(88482);let n=e=>{let{heading:t,className:a}=e;return(0,s.jsx)(r.Zp,{className:"px-5 py-3.5 text-base/5 shadow-sm font-semibold text-black",children:(0,s.jsx)(r.Wu,{children:t})})}},88145:(e,t,a)=>{a.d(t,{E:()=>i});var s=a(95155);a(12115);var r=a(74466),n=a(53999);let l=(0,r.F)("inline-flex items-center gap-1.5 rounded-lg px-2 py-2 text-xs/[10px] font-medium whitespace-nowrap transition text-black [&>svg]:size-3.5 [&>svg]:shrink-0",{variants:{variant:{default:"bg-black text-white",primary:"bg-primary text-white",outline:"bg-white shadow-[0_1px_2px_0_rgba(113,116,152,0.1),0_0_0_1px_rgba(227,225,222,0.4)] text-gray",success:"bg-success text-white",pending:"bg-warning text-white",danger:"bg-danger text-white",orange:"bg-light-orange",green:"bg-success-light",blue:"bg-light-blue",purple:"bg-light-purple",red:"bg-danger-light",grey:"bg-gray text-white","grey-700":"bg-gray-700 text-white","grey-600":"bg-gray-600 text-white","grey-500":"bg-gray-500 text-white","grey-400":"bg-gray-400","grey-300":"bg-gray-300"},size:{large:"px-2 py-2.5",icon:"py-1.5",small:"px-1.5 py-[3px] leading-[12px] rounded-full",number:"text-[10px]/[8px] px-1.5 py-1 font-semibold"},radius:{full:"rounded-full"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,size:r,...i}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:a,size:r}),t),...i})}},89852:(e,t,a)=>{a.d(t,{Input:()=>u});var s=a(95155),r=a(12115),n=a(99708),l=a(74466),i=a(53999),o=a(92657),d=a(78749);let c=(0,l.F)("text-sm/[10px] relative w-full shadow-3xl placeholder:text-gray placeholder:font-medium text-black font-medium px-3.5 py-2.5 rounded-lg disabled:pointer-events-none disabled:opacity-30 focus:ring-1 outline-hidden focus:ring-black",{variants:{variant:{default:"",Search:"border border-gray-300 shadow-sm py-[7px] pl-8 pr-2 text-xs placeholder:text-black","input-form":"focus:outline-4 pr-9 focus:outline-primary/20 outline-offset-0 focus:ring-1 focus:ring-primary"}},defaultVariants:{variant:"default"}}),u=r.forwardRef((e,t)=>{let{className:a,variant:l,type:u,asChild:p=!1,small:x=!1,iconLeft:m=null,iconRight:h=null,...g}=e,f=p?n.DX:"input",[y,b]=r.useState(u);return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(f,{type:y,className:(0,i.cn)(c({variant:l,className:a}),m?"pl-9":"",m?"pr-9":""),ref:t,...g}),!!m&&(0,s.jsx)("span",{className:(0,i.cn)("text-grey peer-focus:text-dark pointer-events-none absolute left-0 top-0 flex h-9 w-9 items-center justify-center",x?"h-[30px] w-[30px]":"h-9 w-9"),children:m}),!!h&&(0,s.jsx)("span",{className:(0,i.cn)("text-grey peer-focus:text-dark pointer-events-none absolute right-0 top-0 flex items-center justify-center",x?"h-[30px] w-[30px]":"h-9 w-9"),children:h}),"password"===u&&(0,s.jsx)("button",{tabIndex:-1,type:"button",className:"text-grey peer-focus:text-dark absolute right-0 top-0 flex h-9 w-9 items-center justify-center",onClick:()=>b("password"===y?"text":"password"),children:"password"===y?(0,s.jsx)(o.A,{width:18,height:18}):(0,s.jsx)(d.A,{width:18,height:18,className:"text-grey"})})]})});u.displayName="Input"},95784:(e,t,a)=>{a.d(t,{Select:()=>d,SelectContent:()=>m,SelectItem:()=>h,SelectTrigger:()=>u,SelectValue:()=>c});var s=a(95155),r=a(12115),n=a(38715),l=a(53999),i=a(10081),o=a(66474);let d=n.bL;n.YJ;let c=n.WT,u=r.forwardRef((e,t)=>{let{className:a,children:r,icons:d,...c}=e;return(0,s.jsxs)(n.l9,{ref:t,className:(0,l.cn)("text-gray shadow-3xl placeholder:text-gray mb-0! flex w-full items-center justify-between gap-1.5 rounded-lg px-3.5 py-2.5 text-left text-sm/[18px] font-medium transition-all focus-visible:outline-hidden disabled:cursor-not-allowed disabled:opacity-50 data-[state=open]:text-black [&>span]:line-clamp-1 [&[data-state=open]>svg]:rotate-180 [&[data-state=open]>svg]:text-black",a),...c,children:[r,(0,s.jsx)(n.In,{asChild:!0,children:"shorting"===d?(0,s.jsx)(i.A,{className:"text-gray size-4 shrink-0 rotate-0! transition"}):(0,s.jsx)(o.A,{className:"text-gray h-4 w-4 transition"})})]})});u.displayName=n.l9.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.PP,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(o.A,{className:"h-4 w-4 rotate-180"})})});p.displayName=n.PP.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.wn,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})});x.displayName=n.wn.displayName;let m=r.forwardRef((e,t)=>{let{className:a,children:r,position:i="popper",...o}=e;return(0,s.jsx)(n.ZL,{children:(0,s.jsxs)(n.UC,{ref:t,className:(0,l.cn)("text-gray shadow-3xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-100 max-h-96 w-full overflow-hidden rounded-lg bg-white text-sm/4 font-medium","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...o,children:[(0,s.jsx)(p,{}),(0,s.jsx)(n.LM,{className:(0,l.cn)("p-1","popper"===i&&"h-(--radix-select-trigger-height) w-full min-w-(--radix-select-trigger-width)"),children:r}),(0,s.jsx)(x,{})]})})});m.displayName=n.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.JU,{ref:t,className:(0,l.cn)("py-1.5 pr-2 pl-8 text-sm font-semibold",a),...r})}).displayName=n.JU.displayName;let h=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsx)(n.q7,{ref:t,className:(0,l.cn)("relative flex w-full cursor-pointer items-center rounded-lg py-1.5 pr-2 pl-2 text-sm/5 font-medium ring-0 outline-hidden select-none hover:bg-gray-400 hover:text-black data-disabled:pointer-events-none data-disabled:opacity-50 data-[state=checked]:bg-gray-400 data-[state=checked]:text-black",a),...i,children:(0,s.jsx)(n.p4,{children:r})})});h.displayName=n.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.wv,{ref:t,className:(0,l.cn)("bg-muted -mx-1 my-1 h-px",a),...r})}).displayName=n.wv.displayName},99474:(e,t,a)=>{a.d(t,{T:()=>l});var s=a(95155),r=a(12115),n=a(53999);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,n.cn)("min-h-24 w-full rounded-lg px-3.5 py-3 font-medium leading-tight text-black shadow-3xl outline-hidden placeholder:font-medium placeholder:text-gray focus:ring-1 focus:ring-black disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...r})});l.displayName="Textarea"},99840:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(95155),r=a(15452);a(12115);let n=e=>{let{open:t,onOpenChange:a,title:n,content:l}=e;return(0,s.jsx)(r.bL,{open:t,onOpenChange:a,children:(0,s.jsxs)(r.ZL,{children:[(0,s.jsx)(r.hJ,{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",position:"fixed",inset:0,animation:"overlayShow 150ms cubic-bezier(0.16, 1, 0.3, 1)",zIndex:99}}),(0,s.jsxs)(r.UC,{style:{backgroundColor:"white",boxShadow:"var(--shadow-6)",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90vw",maxWidth:"500px",padding:"25px",animation:"contentShow 150ms cubic-bezier(0.16, 1, 0.3, 1)",borderRadius:"10px",zIndex:100},children:[(0,s.jsx)(r.hE,{style:{marginBottom:"10px",fontWeight:"bold"},children:n}),(0,s.jsx)(r.VY,{asChild:!0,children:l})]})]})})}}}]);